{% extends "themes/" + sysSettings.systemTheme + "/layout.html" %}

{% from "themes/" + sysSettings.systemTheme + "/macros/shared.html" import live_stream_card, video_card, topic_card, nav_item_entry with context %}

{% block head %}
<title>{{sysSettings.siteName}}</title>
<meta name="twitter:card" content="app" />
<meta property="og:site_name" content="{{sysSettings.siteName}}" />
<meta property="og:title" content="{{sysSettings.siteName}}" />
<meta property="og:type" content="website" />
<meta property="og:url" content="{{request.url|normalize_url}}" />
<meta property="og:image" content="{{request.url_root|normalize_urlroot}}/{{sysSettings.systemLogo}}" />
{% endblock %}

{% block body %}
    <div class="admin-nav">
        <ul class="nav" id="admin-nav-list" role="tablist">
            {{ nav_item_entry("Dashboard", True) }}
            {{ nav_item_entry("Settings", False) }}
            {{ nav_item_entry("OAuth", False) }}
            {{ nav_item_entry("RTMP", False) }}
            {{ nav_item_entry("Edge", False) }}
            {{ nav_item_entry("Webhooks", False) }}
            {{ nav_item_entry("Stickers", False) }}
            {{ nav_item_entry("Users", False) }}
            {{ nav_item_entry("Topics", False) }}
            {{ nav_item_entry("Channels", False) }}
            {{ nav_item_entry("Streams", False) }}
        </ul>
    </div>
    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active w-100" id="dashboard" role="tabpanel" aria-labelledby="dashboard-tab">
          <div class="row mt-4 mx-4">
            <div class="col-12 col-md-auto">
                <div id="osp-version" class="info-panel-box boxShadow osp-info-box box1-fill">
                    <div class="row">
                        <div class="col-2">
                            <img class="osplogo" src="/static/img/logo.png" alt="OSP Logo">
                        </div>
                        <div class="col-auto">
                            <span class="osp-title-box">
                                <span class="osp-title textShadow"><b>Open Streaming Platform</b></span><br>
                                <span class="osp-version"><b>Version: </b>{{sysSettings.version}}</span>
                            </span>
                        </div>
                    </div>
                    <div class="osp-info">
                        <a href="https://openstreamingplatform.com"><i class="bi bi-globe2"></i> https://openstreamingplatform.com</a><br>
                        <a href="https://gitlab.com/osp-group/flask-nginx-rtmp-manager"><i class="bi bi-file-code"></i> https://gitlab.com/osp-group/flask-nginx-rtmp-manager</a>
                    </div>
                </div>
            </div>
            <div class="col-12 col-md-3">
                <div id="osp-live-streams" class="info-panel-box boxShadow osp-live-streams-info-box green-fill">
                    <div class="info-panel-box-header-nofill"><b>Current Live Streams</b></div>
                    <div class="info-panel-box-metric"><b>5</b></div>
                </div>
            </div>
            <div class="col-12 col-md-3">
                <div id="osp-live-viewers" class="info-panel-box boxShadow osp-live-viewers-info-box blue-fill">
                    <div class="info-panel-box-header-nofill"><b>Current Viewers</b></div>
                    <div class="info-panel-box-metric"><b>127</b></div>
                </div>
            </div>
        </div>
        <div class="row mt-4 mx-1">
            <div class="col-12 col-md-2">
                <div class="info-panel-box">
                    <div class="info-panel-box-header boxShadow textShadow">
                        <b>System Status</b>
                    </div>
                    <div class="info-panel-box-body boxShadow">
                        <div id="system-status-ospcore" class="system-status-item"><b>OSP-Core</b></div>
                        <div id="system-status-osprtmp" class="system-status-item"><b>OSP-RTMP</b></div>
                        <div id="system-status-ospproxy" class="system-status-item"><b>OSP-Proxy</b></div>
                        <div id="system-status-ospedge" class="system-status-item"><b>OSP-Edge</b></div>
                        <div id="system-status-ejabberdchat" class="system-status-item"><b>Ejabberd-Chat</b></div>
                        <div id="system-status-ejabberdxmlrpc" class="system-status-item"><b>Ejabberd-XMLRPC</b></div>
                        <div id="system-status-database" class="system-status-item"><b>Database</b></div>
                        <div id="system-status-redis" class="system-status-item"><b>Redis</b></div>
                    </div>
                </div>
            </div>
        </div>
      </div>
      <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">...</div>
      <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">...</div>
    </div>
{% endblock %}

{% block modals %}
{% endblock %}

{% block scripts %}

{% endblock %}